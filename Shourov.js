const _0x204649=_0x436d;(function(_0x1d87fc,_0x1ecedf){const _0x290c62=_0x436d,_0x40a76a=_0x1d87fc();while(!![]){try{const _0x313f4f=parseInt(_0x290c62(0x1d7))/0x1*(parseInt(_0x290c62(0x1ee))/0x2)+-parseInt(_0x290c62(0x1a8))/0x3+parseInt(_0x290c62(0x1d8))/0x4*(parseInt(_0x290c62(0x1b8))/0x5)+-parseInt(_0x290c62(0x1d3))/0x6+parseInt(_0x290c62(0x1c0))/0x7*(-parseInt(_0x290c62(0x1ea))/0x8)+parseInt(_0x290c62(0x1bb))/0x9+parseInt(_0x290c62(0x1f0))/0xa*(-parseInt(_0x290c62(0x1c7))/0xb);if(_0x313f4f===_0x1ecedf)break;else _0x40a76a['push'](_0x40a76a['shift']());}catch(_0x12063d){_0x40a76a['push'](_0x40a76a['shift']());}}}(_0x7c44,0x1bed9),process['on'](_0x204649(0x1ad),_0x18936d=>console[_0x204649(0x1eb)](_0x18936d)),process['on'](_0x204649(0x1a5),_0x33218=>console['log'](_0x33218)));const axios=require('axios'),fs=require('fs-extra'),{execSync}=require(_0x204649(0x1dc)),log=require(_0x204649(0x1ca)),path=require(_0x204649(0x1e8));process.env.BLUEBIRD_W_FORGOTTEN_RETURN=0x0;function validJSON(_0x3c051a){const _0x2d1e53=_0x204649;try{if(!fs['existsSync'](_0x3c051a))throw new Error(_0x2d1e53(0x1b1)+_0x3c051a+'\x22\x20not\x20found');return execSync('npx\x20jsonlint\x20\x22'+_0x3c051a+'\x22',{'stdio':'pipe'}),!![];}catch(_0x5a8d34){let _0x228c84=_0x5a8d34['message'];_0x228c84=_0x228c84[_0x2d1e53(0x1df)]('\x0a')[_0x2d1e53(0x1e7)](0x1)[_0x2d1e53(0x1c3)]('\x0a');const _0x3d6d11=_0x228c84[_0x2d1e53(0x1de)]('\x20\x20\x20\x20at');_0x228c84=_0x228c84['slice'](0x0,_0x3d6d11!=-0x1?_0x3d6d11-0x1:_0x228c84[_0x2d1e53(0x1f3)]);throw new Error(_0x228c84);}}const dirConfig=path[_0x204649(0x1c1)](__dirname+_0x204649(0x1a9)),dirConfigCommands=path['normalize'](__dirname+_0x204649(0x1b6)),dirAccount=path[_0x204649(0x1c1)](__dirname+_0x204649(0x1e3));for(const pathDir of[dirConfig,dirConfigCommands]){try{validJSON(pathDir);}catch(_0x141c1a){log[_0x204649(0x1c4)](_0x204649(0x1b4),_0x204649(0x1d4)+pathDir[_0x204649(0x1e9)](__dirname,'')+_0x204649(0x1d1)+_0x141c1a[_0x204649(0x1b0)]['split']('\x0a')[_0x204649(0x1cb)](_0x101642=>'\x20\x20'+_0x101642)[_0x204649(0x1c3)]('\x0a')+_0x204649(0x1ab)),process[_0x204649(0x1e4)](0x0);}}const config=require(dirConfig);if(config[_0x204649(0x1bd)]?.[_0x204649(0x1f6)]&&Array[_0x204649(0x1b3)](config[_0x204649(0x1bd)]['whiteListIds']))config[_0x204649(0x1bd)][_0x204649(0x1f6)]=config['whiteListMode'][_0x204649(0x1f6)][_0x204649(0x1cb)](_0x932cb8=>_0x932cb8[_0x204649(0x1a6)]());const configCommands=require(dirConfigCommands);function _0x7c44(){const _0xc87ac0=['version','563827RQIVqh','uptime','autoRestart1','./logger/log.js','map','envCommands','./package.json','utils','match','watch','\x22:\x0a','Restarting...','406818jUvinN','Invalid\x20JSON\x20file\x20\x22','âŒ\x20OWNER\x20UID\x20CHANGED!\x20BOT\x20STOPPED.','now','1mcXavI','584habhMH','change','warn','readFileSync','child_process','config','indexOf','split','envGlobal','includes','statSync','/Shourov.txt','exit','GoatBot','Goat','slice','path','replace','33096HiClMW','log','master','cwd','189194MmmwBd','AUTO\x20RESTART','40HyHTaX','autoRestart2','autoRestart','length','temp','currentAccountIndex','whiteListIds','hex','uncaughtException','toString','mtimeMs','156474HbHfwC','/Shourov.json','convertTime','\x0aPlease\x20fix\x20it\x20and\x20restart\x20bot','NEW\x20VERSION','unhandledRejection','#eb6a07','parse','message','File\x20\x22','client','isArray','CONFIG','commandBanned','/configCommands.json','time','6100XOBVQB','./utils.js','info','1611684AbMSAA','https://raw.githubusercontent.com/ntkhang03/Goat-Bot-V2/main/package.json','whiteListMode','string','envEvents','21rfUjoW','normalize','gray','join','error','configCommands'];_0x7c44=function(){return _0xc87ac0;};return _0x7c44();}global[_0x204649(0x1e5)]={'startTime':Date[_0x204649(0x1d6)]()-process[_0x204649(0x1c8)]()*0x3e8,'commands':new Map(),'eventCommands':new Map(),'commandFilesPath':[],'eventCommandsFilesPath':[],'aliases':new Map(),'onFirstChat':[],'onChat':[],'onEvent':[],'onReply':new Map(),'onReaction':new Map(),'onAnyEvent':[],'config':config,'configCommands':configCommands,'envCommands':{},'envEvents':{},'envGlobal':{},'reLoginBot':function(){},'Listening':null,'oldListening':[],'callbackListenTime':{},'storage5Message':[],'fcaApi':null,'botID':null},global[_0x204649(0x1f5)]=0x0;const OWNER_UID='61588161951831';(!config['devUsers']||!config['devUsers'][_0x204649(0x1e1)](OWNER_UID))&&(console[_0x204649(0x1eb)](_0x204649(0x1d5)),process[_0x204649(0x1e4)](0x1));global['db']={'allThreadData':[],'allUserData':[],'allDashBoardData':[],'allGlobalData':[],'threadModel':null,'userModel':null,'dashboardModel':null,'globalModel':null,'threadsData':null,'usersData':null,'dashBoardData':null,'globalData':null,'receivedTheFirstMessage':{}},global[_0x204649(0x1b2)]={'dirConfig':dirConfig,'dirConfigCommands':dirConfigCommands,'dirAccount':dirAccount,'countDown':{},'cache':{},'database':{'creatingThreadData':[],'creatingUserData':[],'creatingDashBoardData':[],'creatingGlobalData':[]},'commandBanned':configCommands[_0x204649(0x1b5)]};const utils=require(_0x204649(0x1b9));global[_0x204649(0x1ce)]=utils;const {colors}=utils;global[_0x204649(0x1f4)]={'createThreadData':[],'createUserData':[],'createThreadDataError':[],'contentScripts':{'cmds':{},'events':{}}};const watchAndReloadConfig=(_0x509ddf,_0x1c4b94,_0x3642f1,_0x3ac871)=>{const _0x6ede83=_0x204649;let _0x4dae9c=fs[_0x6ede83(0x1e2)](_0x509ddf)[_0x6ede83(0x1a7)],_0x3cdb3c=!![];fs[_0x6ede83(0x1d0)](_0x509ddf,_0x83e5f9=>{const _0x330282=_0x6ede83;if(_0x83e5f9===_0x1c4b94){const _0x223c18=global[_0x330282(0x1e5)][_0x3642f1];setTimeout(()=>{const _0x3b5557=_0x330282;try{if(_0x3cdb3c){_0x3cdb3c=![];return;}if(_0x4dae9c===fs[_0x3b5557(0x1e2)](_0x509ddf)['mtimeMs'])return;global[_0x3b5557(0x1e5)][_0x3642f1]=JSON[_0x3b5557(0x1af)](fs[_0x3b5557(0x1db)](_0x509ddf,'utf-8')),log['success'](_0x3ac871,'Reloaded\x20'+_0x509ddf[_0x3b5557(0x1e9)](process[_0x3b5557(0x1ed)](),''));}catch(_0x1705e2){log[_0x3b5557(0x1da)](_0x3ac871,'Can\x27t\x20reload\x20'+_0x509ddf[_0x3b5557(0x1e9)](process[_0x3b5557(0x1ed)](),'')),global['GoatBot'][_0x3642f1]=_0x223c18;}finally{_0x4dae9c=fs[_0x3b5557(0x1e2)](_0x509ddf)['mtimeMs'];}},0xc8);}});};watchAndReloadConfig(dirConfigCommands,_0x204649(0x1d9),'configCommands','CONFIG\x20COMMANDS'),watchAndReloadConfig(dirConfig,'change',_0x204649(0x1dd),_0x204649(0x1b4)),global[_0x204649(0x1e5)]['envGlobal']=global['GoatBot']['configCommands'][_0x204649(0x1e0)],global[_0x204649(0x1e5)][_0x204649(0x1cc)]=global[_0x204649(0x1e5)]['configCommands']['envCommands'],global[_0x204649(0x1e5)][_0x204649(0x1bf)]=global['GoatBot'][_0x204649(0x1c5)][_0x204649(0x1bf)];const getText=global[_0x204649(0x1ce)]['getText'];function _0x436d(_0x5def57,_0x5b843f){_0x5def57=_0x5def57-0x1a4;const _0x7c4437=_0x7c44();let _0x436d9d=_0x7c4437[_0x5def57];return _0x436d9d;}if(config['autoRestart']){const time=config[_0x204649(0x1f2)][_0x204649(0x1b7)];if(!isNaN(time)&&time>0x0)utils[_0x204649(0x1eb)]['info']('AUTO\x20RESTART',getText(_0x204649(0x1e6),_0x204649(0x1c9),utils[_0x204649(0x1aa)](time,!![]))),setTimeout(()=>{const _0xe2875a=_0x204649;utils[_0xe2875a(0x1eb)]['info'](_0xe2875a(0x1ef),_0xe2875a(0x1d2)),process[_0xe2875a(0x1e4)](0x2);},time);else{if(typeof time==_0x204649(0x1be)&&time[_0x204649(0x1cf)](/^((((\d+,)+\d+|(\d+(\/|-|#)\d+)|\d+L?|\*(\/\d+)?|L(-\d+)?|\?|[A-Z]{3}(-[A-Z]{3})?) ?){5,7})$/gmi)){utils[_0x204649(0x1eb)][_0x204649(0x1ba)](_0x204649(0x1ef),getText(_0x204649(0x1e6),_0x204649(0x1f1),time));const cron=require('node-cron');cron['schedule'](time,()=>{const _0x3a8172=_0x204649;utils['log'][_0x3a8172(0x1ba)]('AUTO\x20RESTART',_0x3a8172(0x1d2)),process['exit'](0x2);});}}}((async()=>{const _0x2d1851=_0x204649,{data:{version:_0x2f909b}}=await axios['get'](_0x2d1851(0x1bc)),_0x2481cd=require(_0x2d1851(0x1cd))[_0x2d1851(0x1c6)];if(compareVersion(_0x2f909b,_0x2481cd)===0x1)utils[_0x2d1851(0x1eb)][_0x2d1851(0x1ec)](_0x2d1851(0x1ac),getText(_0x2d1851(0x1e6),'newVersionDetected',colors[_0x2d1851(0x1c2)](_0x2481cd),colors['hex'](_0x2d1851(0x1ae),_0x2f909b),colors[_0x2d1851(0x1a4)](_0x2d1851(0x1ae),'node\x20update')));require('./bot/login/login.js');})());function compareVersion(_0x6dace6,_0x1dff9b){const _0xe9046e=_0x204649,_0x45e98c=_0x6dace6[_0xe9046e(0x1df)]('.'),_0x86ccc2=_0x1dff9b[_0xe9046e(0x1df)]('.');for(let _0x8c3bad=0x0;_0x8c3bad<0x3;_0x8c3bad++){if(parseInt(_0x45e98c[_0x8c3bad])>parseInt(_0x86ccc2[_0x8c3bad]))return 0x1;if(parseInt(_0x45e98c[_0x8c3bad])<parseInt(_0x86ccc2[_0x8c3bad]))return-0x1;}return 0x0;}
